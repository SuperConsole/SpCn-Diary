{"componentChunkName":"component---src-templates-blog-post-js","path":"/190715/","result":{"data":{"site":{"siteMetadata":{"title":"SpXn-Blog","author":"_spxn"}},"markdownRemark":{"id":"d1893a5a-465b-554a-b52e-d35294c53765","excerpt":"久しぶりの投稿。今回はOWASP ZAPを用いてWebサイトの脆弱性診断を行ったのでその流れと結果を報告します。 OWASP ZAPはOSSで提供される脆弱性診断を行う為のアプリケーションです。機能が概ねGUI…","html":"<p>　久しぶりの投稿。今回はOWASP ZAPを用いてWebサイトの脆弱性診断を行ったのでその流れと結果を報告します。<br>\nOWASP ZAPはOSSで提供される脆弱性診断を行う為のアプリケーションです。機能が概ねGUIで提供されていて容易に診断、結果のフィードバックが行えます。動的スキャンを用いたのでその流れを示します。  </p>\n<p>流れ:   </p>\n<ol>\n<li>以下の公式リポジトリの「wiki」タブからダウンロード -> OSに合わせて適宜インストールする<br>\n- <a href=\"https://github.com/zaproxy/zaproxy\">https://github.com/zaproxy/zaproxy</a>  </li>\n<li>OWASP ZAPを使用するためにFirefox等のブラウザでプロキシの設定を行う(以下は例)<br>\nproxy: 127.0.0.1 / port: 57777<br>\n＊これによりブラウザの通信を傍受可能になる(脆弱性診断に用いるため設定必須)</li>\n<li>OWASP ZAPの証明書を生成し、ブラウザにインポートする\n　　　＊基本ブラウザはFirefoxが推奨されている、プロキシや</li>\n<li>OWASP ZAPを起動、ここからは参考文献(本:OWASP ZAPではじめるウェブアプリ脆弱性診断/脆弱性診断研究会)に沿って以下を設定した<br>\nモード, 診断範囲(コンテキスト, スコープ), スキャンポリシー  </li>\n<li>コンテキスト内のターゲット上で動的スキャンを選択し、実行する -> アラートタブにスキャンの結果(検出した脆弱性や改善点等)が表示される  </li>\n</ol>\n<p>ざっくり言うとこんな流れになります。OWASP ZAPを使っていてすごいなと感じたのはこの動的スキャンの結果に「設定ミス」の類についてもフィードバックされた点ですね。自前で運営している某サイトの試験環境に動的スキャンを走らせた結果、「X-Content-Type-Optionsヘッダ」の設定がされておらず悪意のあるスクリプトがインジェクションされる危険性が潜んでいました(怖い…)。サイトの開発のなかでHTTPヘッダの設定を意識しないまま開発していたが故のミスです…。奥が深いなぁ…。  </p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 381px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/1315d854408efecb337247126353e9da/e37cd/OWASP-ZAP-result-alert.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 39.632545931758536%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABdElEQVQY03WPS0vDQBSF++98rQVX/gQXVlduqkvBlaB1IQj6U0QR66OTmNfkMck8MmmTNDOtia19OFFQUDycxeXe8x24ja3Ds/3jo43W1fre+ebB5UbrYql5urLTXts9W2m21aC8utNebp4sbf92I84kDgzLAB3NedLNewCB6V/fg5tHcPdk3HWNjm7fPurARjyTLBWflopSbrzPFm9ZIJgTUUZwhALk+17C4jxNY0KThEHbooSOx5PFH9Xw6yDKeyjExPUCz0ceiiKMCaUIYxbHqi4iNKJxzBPKGE9S0RPlqKrh6WxRDhnD0Ha8CCHoQs91HVhL07Tuc9d4MaDnkLqIq4Bp2RRTKYZFIWu4ErjPYBBizjnjPMT4K+Q4bhiGLnQfHjoA6JzHoR+okrJ8nUzG6pHGbDrlvQQTYlrWM9BMz+/qL4pM+n0hRFWp5CjNsiwfqHkoZVWNf36ez+ejaiKGZZ7nhRC5KIpBIaRU+8U/+j59ACU6mfQWBCNSAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"OWASP ZAP result alert\" title=\"OWASP ZAP result alert\" src=\"/static/1315d854408efecb337247126353e9da/e37cd/OWASP-ZAP-result-alert.png\" srcset=\"/static/1315d854408efecb337247126353e9da/cf440/OWASP-ZAP-result-alert.png 148w,\n/static/1315d854408efecb337247126353e9da/d2d38/OWASP-ZAP-result-alert.png 295w,\n/static/1315d854408efecb337247126353e9da/e37cd/OWASP-ZAP-result-alert.png 381w\" sizes=\"(max-width: 381px) 100vw, 381px\" loading=\"lazy\">\n  </a>\n    </span>\n<p>次は気が向いたら似たようなアプリであるBurp Suiteに触れた所感を書こうかなーと思っていたりいなかったりですね。おわり。  </p>\n<p>＊追記: HTTPヘッダの設定とセキュリティについていい感じのサイトを見つけたのでメモ<br>\nセキュリティを強化する7つの便利なHTTPヘッダ / <a href=\"https://devcentral.f5.com/s/articles/7http\">https://devcentral.f5.com/s/articles/7http</a><br>\n</p>","frontmatter":{"title":"OWASP ZAPを用いたWebサイトの脆弱性診断","date":"July 15, 2019"}}},"pageContext":{"slug":"/190715/","previous":{"fields":{"slug":"/190702/"},"frontmatter":{"title":"Apache Struts 2におけるリモートコード実行(CVE-2018-11776)の脆弱性検証"}},"next":{"fields":{"slug":"/190724/"},"frontmatter":{"title":"Burp Suiteで構築するHTTPSプロキシ"}}}}}